[[local|localrc]]
disable_all_services
enable_service c-api
enable_service c-bak
enable_service c-sch
enable_service c-vol
disable_service dstat
enable_service etcd3
enable_service file_tracker
enable_service g-api
disable_service horizon
enable_service key
enable_service m-api
enable_service m-dat
enable_service m-sch
enable_service m-shr
enable_service memory_tracker
enable_service mysql
enable_service n-api
enable_service n-api-meta
enable_service n-cond
enable_service n-cpu
enable_service n-novnc
enable_service n-sch
enable_service openstack-cli-server
enable_service ovn-controller
enable_service ovn-northd
enable_service ovs-vswitchd
enable_service ovsdb-server
enable_service placement-api
enable_service q-ovn-metadata-agent
enable_service q-svc
enable_service rabbit
enable_service s-account
enable_service s-container
enable_service s-object
enable_service s-proxy
enable_service tempest
enable_service tls-proxy
ADMIN_PASSWORD="secretadmin"
CINDER_ENABLED_BACKENDS="NFS:isilon"
DATABASE_HOST="10.19.119.167"
DATABASE_PASSWORD="secretdatabase"
DATABASE_TYPE="mysql"
DEBUG_LIBVIRT_COREDUMPS="True"
ENABLE_SYSCTL_MEM_TUNING="True"
ENABLE_SYSCTL_NET_TUNING="True"
ENABLE_ZSWAP="True"
ERROR_ON_CLONE="False"
FIXED_RANGE="10.1.0.0/20"
FLOATING_RANGE="172.24.5.0/24"
HOST_IP="10.19.119.167"
IPV4_ADDRS_SAFE_TO_USE="10.1.0.0/20"
LIBVIRT_TYPE="qemu"
LOGFILE="/opt/stack/logs/devstacklog.txt"
LOG_COLOR="False"
MANILA_CONFIGURE_DEFAULT_TYPES="True"
MANILA_DHSS_FALSE_SHARE_TYPE_EXTRA_SPECS="share_backend_name=powerscale snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True"
MANILA_SERVICE_IMAGE_URL="file:///openstack/cache/files/manila-service-image.qcow2"
NETWORK_GATEWAY="10.1.0.1"
NOVA_LIBVIRT_TB_CACHE_SIZE="128"
NOVA_VNC_ENABLED="True"
NOVNC_FROM_PACKAGE="True"
OVN_DBS_LOG_LEVEL="dbg"
PUBLIC_NETWORK_GATEWAY="172.24.5.1"
RABBIT_HOST="10.19.119.167"
RABBIT_PASSWORD="secretrabbit"
SERVICE_HOST="10.19.119.167"
SERVICE_PASSWORD="secretservice"
SWIFT_HASH="1234123412341234"
SWIFT_REPLICAS="1"
SWIFT_START_ALL_SERVICES="False"
TEMPEST_PLUGINS="manila-tempest-plugin"
TEMPEST_STORAGE_PROTOCOL="NFS"
TEMPEST_VOLUME_DRIVER="EMC"
TEMPEST_VOLUME_VENDOR="Dell EMC"
VERBOSE="True"
VERBOSE_NO_TIMESTAMP="True"
LIBS_FROM_GIT=cinder,devstack,glance,keystone,manila-tempest-plugin,neutron,nova,os-test-images,placement,requirements,swift,tempest,manila
enable_plugin manila https://opendev.org/openstack/manila.git
enable_plugin manila-tempest-plugin https://opendev.org/openstack/manila-tempest-plugin
enable_plugin manila-ui https://opendev.org/openstack/manila-ui

[[post-config|$MANILA_CONF]]
[DEFAULT]
enabled_share_backends = powerscale
enabled_share_protocols = NFS,CIFS
share_name_template = CI-%s

[powerscale]
driver_handles_share_servers = False
emc_nas_login = root
emc_nas_password = <hidden>
emc_nas_root_dir = /ifs/manila
emc_nas_server = <hidden>
emc_nas_server_port = 8080
emc_share_backend = isilon
emc_ssl_cert_verify = False
enabled_share_protocols = NFS,CIFS
share_backend_name = powerscale
share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver
[[post-config|$NOVA_CONF]]
[libvirt]
volume_use_multipath = True
[[test-config|$TEMPEST_CONFIG]]
[compute]
min_compute_nodes = 1

[share]
backend_names = powerscale
capability_create_share_from_snapshot_support = True
create_networks_when_multitenancy_enabled = False
default_share_type_name = dhss_false
enable_ip_rules_for_protocols = nfs,cifs
enable_protocols = nfs,cifs
enable_sid_rules_for_protocols = cifs
enable_user_rules_for_protocols = cifs
image_with_share_tools = manila-service-image-master
multitenancy_enabled = False
run_consistency_group_tests = False
run_driver_assisted_migration_tests = False
run_extend_tests = True
run_host_assisted_migration_tests = False
run_ipv6_tests = False
run_manage_unmanage_snapshot_tests = False
run_manage_unmanage_tests = False
run_migration_with_preserve_snapshots_tests = False
run_mount_snapshot_tests = False
run_quota_tests = True
run_replication_tests = False
run_revert_to_snapshot_tests = True
run_share_group_tests = False
run_shrink_tests = False
run_snapshot_tests = True
share_creation_retry_number = 2
share_size = 10
suppress_errors_in_cleanup = True
username_for_user_rules = root
